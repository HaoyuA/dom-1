{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","childNodes","arr","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","sibling","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","array","call","index"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.dom = {\n  create(string) {\n    const container = document.createElement(\"template\");\n    container.innerHTML = string.trim();\n    return container.content.firstChild;\n  },\n  after(node, node2) {\n    node.parentNode.insertBefore(node2, node.nextSibling);\n  },\n  before(node, node2) {\n    node.parentNode.insertBefore(node2, node);\n  },\n  append(parent, node) {\n    parent.appendChild(node);\n  },\n  wrap(node, parent) {\n    dom.before(node, parent);\n    dom.append(parent, node);\n  },\n  remove(node) {\n    node.parentNode.removeChild(node);\n    return node;\n  },\n  empty(node) {\n    const { childNodes } = node;\n    const arr = [];\n    let x = node.firstChild;\n    // 每移除一个长度就会改变 所以不能用 length 和 for写\n    while (x) {\n      dom.remove(x);\n      arr.push(x);\n      x = node.firstChild;\n    }\n    return arr;\n  },\n  attr(node, name, value) {\n    // 重载\n    if (arguments.length === 3) {\n      node.setAttribute(name, value);\n    } else if (arguments.length === 2) {\n      return node.getAttribute(name);\n    }\n  },\n  text(node, string) {\n    //适配\n    if (arguments.length === 2) {\n      if (\"innerText\" in node) {\n        node.innerText = string;\n      } else {\n        node.textContent = string;\n      }\n    } else if (arguments.length === 2) {\n      if (\"innerText\" in node) {\n        return node.innerText;\n      } else {\n        return node.textContent;\n      }\n    }\n  },\n  html(node, string) {\n    if (arguments.length === 2) {\n      node.innerHTML = string;\n    } else if (arguments.length === 1) {\n      return node.innerHTML;\n    }\n  },\n  style(node, name, value) {\n    if (arguments.length === 3) {\n      //dom.style(div, 'color' , 'red')\n      node.style[name] = value;\n    } else if (arguments.length === 2) {\n      if (typeof name === \"string\") {\n        //dom.style(div, 'color')\n        return node.style[name];\n      } else if (name instanceof Object) {\n        // dom.style(div,{color:'red',border: '1px solid red'})\n        const object = name;\n        for (const key in object) {\n          node.style[key] = object[key];\n        }\n      }\n    }\n  },\n  class: {\n    add(node, className) {\n      node.classList.add(className);\n    },\n    has(node, className) {\n      return node.classList.contains(className);\n    },\n    remove(node, className) {\n      node.classList.remove(className);\n    },\n  },\n  on(node, eventName, fn) {\n    node.addEventListener(eventName, fn);\n  },\n  off(node, eventName, fn) {\n    node.removeEventListener(eventName, fn);\n  },\n  find(selector, scope) {\n    return (scope || document).querySelectorAll(selector);\n  },\n  parent(node) {\n    return node.parentNode;\n  },\n  children(node) {\n    return node.children;\n  },\n  sibling(node) {\n    return Array.from(node.parentNode.children).filter((n) => n !== node);\n  },\n  next(node) {\n    let x = node.nextSibling;\n    // 若是文本节点就下一个\n    while (x && x.nodeType === 3) {\n      x = x.nextSibling;\n    }\n    return x;\n  },\n  previous(node) {\n    let x = node.previousSibling;\n    // 若是文本节点就下一个\n    while (x && x.nodeType === 3) {\n      x = x.previousSibling;\n    }\n    return x;\n  },\n  each(nodeList, fn) {\n    for (let i = 0; i < array.length; i++) {\n      fn.call(null, nodeList[i]);\n    }\n  },\n  index(node) {\n    let nodeList = node.parentNode.children;\n    let i;\n    for (i = 0; i < nodeList.length; i++) {\n      if (nodeList[i] === node) {\n        break;\n      }\n    }\n    return i;\n  },\n};\n"]}